function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fastdom=createCommonjsModule(function(t){!function(e){function n(){var t=this;t.reads=[],t.writes=[],t.raf=u.bind(e)}function o(t){t.scheduled||(t.scheduled=!0,t.raf(r.bind(null,t)))}function r(t){var e,n=t.writes,r=t.reads;try{c("flushing reads",r.length),i(r),c("flushing writes",n.length),i(n)}catch(t){e=t}if(t.scheduled=!1,(r.length||n.length)&&o(t),e){if(c("task errored",e.message),!t.catch)throw e;t.catch(e)}}function i(t){for(var e;e=t.shift();)e()}function s(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}var c=function(){},u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return setTimeout(t,16)};n.prototype={constructor:n,measure:function(t,e){var n=e?t.bind(e):t;return this.reads.push(n),o(this),n},mutate:function(t,e){var n=e?t.bind(e):t;return this.writes.push(n),o(this),n},clear:function(t){return s(this.reads,t)||s(this.writes,t)},extend:function(t){if("object"!=typeof t)throw new Error("expected object");var e=Object.create(this);return a(e,t),e.fastdom=this,e.initialize&&e.initialize(),e},catch:null};var f=e.fastdom=e.fastdom||new n;t.exports=f}("undefined"!=typeof window?window:commonjsGlobal)}),fastdomPromised=createCommonjsModule(function(t){!function(){function e(t,e,n,o){var r,i=t._tasks,s=t.fastdom,a=new Promise(function(t,c){r=s[e](function(){i.delete(a);try{t(o?n.call(o):n())}catch(t){c(t)}},o)});return i.set(a,r),a}var n={initialize:function(){this._tasks=new Map},mutate:function(t,n){return e(this,"mutate",t,n)},measure:function(t,n){return e(this,"measure",t,n)},clear:function(t){var e=this._tasks,n=e.get(t);this.fastdom.clear(n),e.delete(t)}};"f"=="undefined"[0]?(void 0)(function(){return n}):"o"=="object"[0]?t.exports=n:window.fastdomPromised=n}()});const fastDOM=fastdom.extend(fastdomPromised),hasDuplicate=function(t){let e=[];for(var n=0;n<=t.length;n++){if(void 0!==e[t[n]])return!0;e[t[n]]=1}return!1},hypenatedToCamelCase=t=>{const e=t.replace(/-([a-z])/g,t=>t[1].toUpperCase()).replace(/-/g,"");return e[0].toLowerCase()+e.slice(1)},createFragment=t=>document.createRange().createContextualFragment(t),isFirstUpperCase=t=>t[0].toUpperCase()===t[0],isFirstAlpha=t=>t[0].match(/^[a-z]+$/i),isArray=Array.isArray,store={components:{},config:{namesAsDataAttributes:!1,dataNamePrefix:"components"}};var wave$1=(t,...e)=>{const n=store.config.dataNamePrefix;const o=null!==n?n.length+6:5;const r=t.raw.reduce((t,n,o,r)=>{let i=e[o];if(i instanceof Element)t.elements[o]=i,i='<div id="_WaveTag__'+o+'"></div>';else if(isArray(i)){const e=document.createDocumentFragment(),n=i.map(t=>wave`${t}`);e.append(...n),t.elements[o]=e,i='<div id="_WaveTag__'+o+'"></div>'}t.preSting.push(n+(void 0===i?"":i));return t},{preSting:[],elements:{}});r.preSting=r.preSting.join("");const i=r.preSting.split("<").map((t,e)=>0===e?t:"<"+t).filter((t,e,n)=>{if(0===e)return!0;const o=n[e-1];const r=(o.match(/'/g)||[]).length%2==0;const i=(o.match(/"/g)||[]).length%2==0;return r&&i}).filter(t=>{const e=t.split(">")[0];if(e.indexOf(">")>1&&e.indexOf(">")<4)return!1;const n=e.split(" ");if(1===n.length)return!1;const o=n[1];if(0===o.length)return!1;return isFirstUpperCase(o)&&isFirstAlpha(o)}).map(t=>{const e=t.split(" ")[1];if(e.includes(">"))return e.split(">")[0];if(e.includes(" "))return e.split(" ")[0];return e});if(hasDuplicate(i))throw Error("Duplicate component names");const s=i.reduce((t,e)=>{const o=e.toLowerCase();const r=new RegExp(e);const i=null===n?"data-"+o:`data-${n}-${o}`;console.log("dataName",i);t.DOMstring=t.DOMstring.replace(r,i);t.dataNames.push(i);return t},{DOMstring:r.preSting,dataNames:[]});const a=createFragment(s.DOMstring);const c=r.elements;Object.entries(c).map(t=>{const[e,n]=t;const o=a.querySelector("#_WaveTag__"+e);o.replaceWith(n)});const u=a.firstElementChild;i[0];s.dataNames.reduce((t,e,n)=>{console.log("dataNamePrefixIndexLength",o);const r=e.slice(o);console.log("hypenated",r);const s=hypenatedToCamelCase(i[n]);const c=a.querySelector(`[${e}]`);!0===store.config.namesAsDataAttributes||isArray(store.config.namesAsDataAttributes)&&store.config.namesAsDataAttributes.some(t=>t===s||t===r)||c.removeAttribute(e);store.components[s]=c;t[s]=c;return t},{});return u};const childNodes=t=>Array.from(t.childNodes),children=t=>Array.from(t.children),descendent=(t,e)=>{let n=0;const o=t=>{n++;const r=t.parentElement;return n===e?r:o(r)};return o(t)},eachClosest=(t,e)=>t.map(t=>t.closest(e)),read=t=>fastDOM.measure(()=>t()),write=t=>fastDOM.mutate(()=>t()),kill=t=>fastDOM.clear(t),queryEach=(t,e)=>t.map(t=>t.querySelector(e)),queryEachAll=(t,e)=>t.map(t=>t.querySelectorAll(e)),queryAll=(t,e)=>Array.from(t.querySelectorAll(e)),siblings=t=>Array.from(t.parentElement.children).filter(e=>e!==t),siblingsKeys=t=>Array.from(t.parentElement.children).reduce((e,n,o)=>{n!==t&&e.push([o,n]);return e},[]),aquire=(t,...e)=>{const n=e.length;for(let o=0;o<n;o++){const n=e[o];if("object"!=typeof n&&"string"!=typeof n)return t;{const e=Object.keys(n),o=e.length;for(let r=0;r<o;r++){const o=e[r];t[o]=n[o]}}}return t},style=(t,...e)=>void aquire(t.style,...e),swap=(t,e,n)=>{const o=hypenatedToCamelCase(e);return n?t.dataset[o]="":delete t.dataset[o]},toggle=(t,e)=>{const n=hypenatedToCamelCase(e);return""===t.dataset[n]?delete t.dataset[n]:t.dataset[n]=""},cycle=(t,e,n)=>{let o=0;return()=>{console.log("index",o);t.dataset[hypenatedToCamelCase(e)]=n[o];o<n.length-1?o++:o=0}},stringToWave=t=>wave$1`${t}`,components=store.components,$=components,config=t=>aquire(store.config,t);export{aquire,childNodes,children,components,descendent,config,cycle,eachClosest,kill,queryAll,queryEach,queryEachAll,read,siblings,siblingsKeys,stringToWave,style,swap,toggle,wave$1 as wave,write,$};
