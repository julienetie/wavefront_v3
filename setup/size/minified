function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fastdom=createCommonjsModule(function(t){!function(e){function n(){var t=this;t.reads=[],t.writes=[],t.raf=u.bind(e)}function r(t){t.scheduled||(t.scheduled=!0,t.raf(o.bind(null,t)))}function o(t){var e,n=t.writes,o=t.reads;try{c("flushing reads",o.length),i(o),c("flushing writes",n.length),i(n)}catch(t){e=t}if(t.scheduled=!1,(o.length||n.length)&&r(t),e){if(c("task errored",e.message),!t.catch)throw e;t.catch(e)}}function i(t){for(var e;e=t.shift();)e()}function s(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}var c=function(){},u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return setTimeout(t,16)};n.prototype={constructor:n,measure:function(t,e){var n=e?t.bind(e):t;return this.reads.push(n),r(this),n},mutate:function(t,e){var n=e?t.bind(e):t;return this.writes.push(n),r(this),n},clear:function(t){return s(this.reads,t)||s(this.writes,t)},extend:function(t){if("object"!=typeof t)throw new Error("expected object");var e=Object.create(this);return a(e,t),e.fastdom=this,e.initialize&&e.initialize(),e},catch:null};var f=e.fastdom=e.fastdom||new n;t.exports=f}("undefined"!=typeof window?window:commonjsGlobal)}),fastdomPromised=createCommonjsModule(function(t){!function(){function e(t,e,n,r){var o,i=t._tasks,s=t.fastdom,a=new Promise(function(t,c){o=s[e](function(){i.delete(a);try{t(r?n.call(r):n())}catch(t){c(t)}},r)});return i.set(a,o),a}var n={initialize:function(){this._tasks=new Map},mutate:function(t,n){return e(this,"mutate",t,n)},measure:function(t,n){return e(this,"measure",t,n)},clear:function(t){var e=this._tasks,n=e.get(t);this.fastdom.clear(n),e.delete(t)}};"f"=="undefined"[0]?(void 0)(function(){return n}):"o"=="object"[0]?t.exports=n:window.fastdomPromised=n}()});const fastDOM=fastdom.extend(fastdomPromised),hasDuplicate=function(t){let e=[];for(var n=0;n<=t.length;n++){if(void 0!==e[t[n]])return!0;e[t[n]]=1}return!1},hypenatedToCamelCase=t=>{const e=t.replace(/-([a-z])/g,t=>t[1].toUpperCase()).replace(/-/g,"");return e[0].toLowerCase()+e.slice(1)},createFragment=t=>document.createRange().createContextualFragment(t),isFirstUpperCase=t=>t[0].toUpperCase()===t[0],isFirstAlpha=t=>t[0].match(/^[a-z]+$/i),isArray=Array.isArray,store={$:{},config:{namesAsDataAttributes:!1,dataNamePrefix:"components"}};var wave$1=(t,...e)=>{const n=store.config.dataNamePrefix;const r=null!==n?n.length+6:5;const o=t.raw.reduce((t,n,r,o)=>{let i=e[r];if(i instanceof Element)t.elements[r]=i,i='<div id="_WaveTag__'+r+'"></div>';else if(isArray(i)){const e=document.createDocumentFragment(),n=i.map(t=>wave`${t}`);e.append(...n),t.elements[r]=e,i='<div id="_WaveTag__'+r+'"></div>'}t.preSting.push(n+(void 0===i?"":i));return t},{preSting:[],elements:{}});const i=o.preSting[0].match(/^#[a-zA-Z-]+/);const s=isArray(i)?hypenatedToCamelCase(i[0].substr(1)):null;null!==s&&void 0===store.$[s]&&(store.$[s]={});o.preSting=o.preSting.join("");const a=o.preSting.split("<").map((t,e)=>0===e?t:"<"+t).filter((t,e,n)=>{if(0===e)return!0;const r=n[e-1];const o=(r.match(/'/g)||[]).length%2==0;const i=(r.match(/"/g)||[]).length%2==0;return o&&i}).filter(t=>{const e=t.split(">")[0];if(e.indexOf(">")>1&&e.indexOf(">")<4)return!1;const n=e.split(" ");if(1===n.length)return!1;const r=n[1];if(0===r.length)return!1;return isFirstUpperCase(r)&&isFirstAlpha(r)}).map(t=>{const e=t.split(" ")[1];if(e.includes(">"))return e.split(">")[0];if(e.includes(" "))return e.split(" ")[0];return e});if(hasDuplicate(a))throw Error("Duplicate component names");const c=a.reduce((t,e)=>{const r=e.toLowerCase();const o=new RegExp(e);const i=null===n?"data-"+r:`data-${n}-${r}`;t.markupString=t.markupString.replace(o,i);t.dataNames.push(i);return t},{markupString:o.preSting,dataNames:[]});const u=createFragment(c.markupString);const f=o.elements;Object.entries(f).map(t=>{const[e,n]=t;const r=u.querySelector("#_WaveTag__"+e);r.replaceWith(n)});const l=u.firstElementChild;a[0];c.dataNames.reduce((t,e,n)=>{const o=e.slice(r);const i=hypenatedToCamelCase(a[n]);const c=u.querySelector(`[${e}]`);!0===store.config.namesAsDataAttributes||isArray(store.config.namesAsDataAttributes)&&store.config.namesAsDataAttributes.some(t=>t===i||t===o)||c.removeAttribute(e);null===s?store.$[i]=c:store.$[s][i]=c;t[i]=c;return t},{});return l};const childNodes=t=>Array.from(t.childNodes),children=t=>Array.from(t.children),descendent=(t,e)=>{let n=0;const r=t=>{n++;const o=t.parentElement;return n===e?o:r(o)};return r(t)},eachClosest=(t,e)=>t.map(t=>t.closest(e)),read=t=>fastDOM.measure(()=>t()),write=t=>fastDOM.mutate(()=>t()),kill=t=>fastDOM.clear(t),queryEach=(t,e)=>t.map(t=>t.querySelector(e)),queryEachAll=(t,e)=>t.map(t=>t.querySelectorAll(e)),queryAll=(t,e)=>Array.from(t.querySelectorAll(e)),siblings=t=>Array.from(t.parentElement.children).filter(e=>e!==t),siblingsKeys=t=>Array.from(t.parentElement.children).reduce((e,n,r)=>{n!==t&&e.push([r,n]);return e},[]),aquire=(t,...e)=>{const n=e.length;for(let r=0;r<n;r++){const n=e[r];if("object"!=typeof n&&"string"!=typeof n)return t;{const e=Object.keys(n),r=e.length;for(let o=0;o<r;o++){const r=e[o];t[r]=n[r]}}}return t},style=(t,...e)=>void aquire(t.style,...e),swap=(t,e,n)=>{const r=hypenatedToCamelCase(e);return n?t.dataset[r]="":delete t.dataset[r]},toggle=(t,e)=>{const n=hypenatedToCamelCase(e);return""===t.dataset[n]?delete t.dataset[n]:t.dataset[n]=""},cycle=(t,e,n)=>{let r=0;return()=>{console.log("index",r);t.dataset[hypenatedToCamelCase(e)]=n[r];r<n.length-1?r++:r=0}},$=store.$,config=t=>aquire(store.config,t);export{aquire,childNodes,children,descendent,config,cycle,eachClosest,kill,queryAll,queryEach,queryEachAll,read,siblings,siblingsKeys,style,swap,toggle,wave$1 as wave,write,$};
